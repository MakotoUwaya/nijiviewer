# Git作業規約

## 作業開始前の確認

1. `git status` による変更確認
2. 指示と無関係な変更が多い場合は別タスクとして提案
3. 最新のブランチと同期を確認
4. 必要なツールとバージョンを確認

無視するように言われた場合は、そのまま続行します。

## ブランチ運用

1. 機能実装時のブランチ作成

   ```bash
   # mainブランチから新規ブランチを作成
   git checkout main
   git pull origin main
   git checkout -b feature/[機能名]
   ```

2. ブランチ命名規則

   - `feature/*`: 新機能の実装
   - `fix/*`: バグ修正
   - `refactor/*`: リファクタリング
   - `docs/*`: ドキュメント更新
   - `chore/*`: その他の変更

3. コミット

   - コミット粒度について、修正の目的別にコミットを分割する
   - 後から変更の経緯を追跡しやすくするため、1つのコミットに複数の目的が混在しないようにする

4. プルリクエスト
   - レビュー前に最新のmainブランチをマージ
   - CIが全て通過していることを確認
   - コードオーナーのレビュー承認後にマージ

## コミットメッセージ

コミットメッセージの1文字目には [Gitmoji](https://gitmoji.dev/) のアイコンを付加する：

- 👔 - ビジネスロジックの追加・更新
- 🏷️ - 型定義の追加・更新
- ✅ - テストの追加・修正
- 🐛 - バグ修正
- ✨ - 新機能の実装
- ⚡️ - パフォーマンス改善
- ♻️ - リファクタリング
- 🎨 - 挙動に関係のないコードフォーマットのみの修正
- 📝 - ドキュメントの更新
- 🔥 - 不要なファイルの削除
- 🚨 - Lint error / warning の修正
- 👷 - CI ビルド関連機能の追加・更新
- 💚 - CI ビルド関連機能の問題修正
- 🔧 - 設定ファイル追加・更新
- 🔨 - 開発者用スクリプト更新
- 🌐 - i18n 対応
- ✏️ - typo 修正
- 📦️ - package の追加・更新
- 🍱 - asset の追加・更新
- 💡 - コード内のコメントのみ更新
- 💬 - UI のテキスト更新
- 💄 - UI のスタイルや配置更新
- 🔊 - ログ出力の追加・更新
- 🔇 - ログ出力の削除
- 🏗️ - 大規模な実装設計の変更反映
- 🚸 - ユーザービリティの改善
- 🤡 - テスト用のモック追加・変更
- 📸 - テストのスナップショット更新
- 🚩 - Feature Flag の追加・更新
- 🥅 - エラーハンドリングの追加
- 💫 - UI アニメーションの追加
- 🩹 - 暫定的な修正

## Recent Git Operations（2025-03-30）

### コミットメッセージ改善点

1. 絵文字の文字化け
   - 02-git.mdに記載されている絵文字をコピー&ペーストで使用する
   - 手動入力や別ソースからの絵文字は文字化けの可能性あり

### Git操作の注意点

1. リモートブランチの取り扱い
   - リモートにプッシュ済みのブランチは安易に削除しない
   - 修正が必要な場合は、新しいコミットで対応する
   - 履歴の書き換えは極力避ける

## GitHub

### Pull Request の作成

1. タスクを完了したときは、前述に Git 作業規約に従ってコミットを追加し、最終的に Pull Request を作成する
2. Pull Request はコマンドでパラメータを指定して、ユーザーの追加入力が必要無いようにする

```
# コマンドの例
gh pr create --title "{変更内容の要約をタイトルに記載}" --body "{変更の詳細な内容や目的について記載}"
```
